TODO:

==30== 6 bytes in 1 blocks are definitely lost in loss record 1 of 19
==30==    at 0x4C2AB80: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==30==    by 0x405D9E: test_alloc (check_util.c:34)
==30==    by 0x4E40706: oauth2_mem_alloc (mem.c:87)
==30==    by 0x4E41E69: oauth2_strndup (util.c:531)
==30==    by 0x4E41ED6: oauth2_strdup (util.c:545)
==30==    by 0x4E43F4F: oauth2_cfg_endpoint_auth_client_secret_jwt_options_set (auth.c:279)
==30==    by 0x4E4430B: oauth2_cfg_endpoint_auth_add_options (auth.c:421)
==30==    by 0x41177D: test_oauth2_auth_client_secret_jwt (check_oauth2.c:124)
==30==    by 0x415F91: tcase_run_tfun_nofork.isra.11 (in /root/liboauth2/.libs/check_liboauth2)
==30==    by 0x4161FD: srunner_run (in /root/liboauth2/.libs/check_liboauth2)
==30==    by 0x404F17: main (check_liboauth2.c:297)


- STS: set POST params
- OAuth2: access token encryption
- sort out child init wrt. cache (do we need a semaphore counter or can we just release when in parent (only))

- encapsulate cjose??

- abort on malloc/strdup failures to prevent cluttering? or is that DOS?
- use AFL https://github.com/mirrorer/afl

- or: license liboauth2 Apache 2.0 so I can create enterprise closes source features such as:
      - redis-vip
      - license management


Docker:

docker run -it --rm -e CK_FORK=none -e CK_RUN_SUITE=proto liboauth2/test:latest /bin/bash -c "./start.sh && /usr/bin/valgrind --leak-check=full --show-leak-kinds=all test/.libs/check_liboauth2"
docker run --cap-add=SYS_PTRACE --security-opt seccomp=unconfined -it --rm -e CK_FORK=none -e CK_RUN_SUITE=proto liboauth2/test:latest /bin/bash -c "./start.sh && /usr/bin/gdb test/.libs/check_liboauth2"

- do 
	 mod_oauth2   ngx_oauth2_module
     mod_oidc     ngx_openidc_module       
     mod_sts      ngx_sts_module
 
     mod_token_binding (nothing shared)
     mod_xacml_pep (may share http callout from liboauth2)

- file-based JSON configuration, shared between all target modules?
- certification tests

- different header separator "-" instead of "_" de-facto/wsgi-acceptable??

- just start doing mod_sts 3.0.0 on top of it
- release mod_sts 1.0.0 and mod_auth_xaml_pep?

- release mod_auth_openidc 3.0.0 and ngx-auth-openidc 1.0.0
  for Apache, NGINX and IIS

## Apache improvements

- all directory based configuration primitives!! (supersede reset to defaults in derived vhost)
- load provider config from curl location which could be local file and get rid of OIDCProvider* stuff
  only leaving OIDCProviderMetadata (not URL)

## NGINX improvements (over the existing one)

- dynamic module (!) https://www.nginx.com/resources/wiki/extending/converting/
- no XML...


10/4/2018
- initial creation
